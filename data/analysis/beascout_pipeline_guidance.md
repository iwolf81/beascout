
‚è∫ Updated BeAScout Data Pipeline

  Pipeline Flow Starting from Scraped HTML Data

  Scraped HTML Files ‚Üí HTML Extractor ‚Üí Quality Scoring ‚Üí Validation File Generation ‚Üí Commissioner Reports
       ‚Üì                    ‚Üì                  ‚Üì                     ‚Üì                        ‚Üì
  beascout_*.html      Unit Records      Quality Grades      Key Three Integration    Excel Reports
  joinexploring_*.html     JSON            A-F Scores         (Real or Anonymized)     with Contacts

  Key Components

  1. HTML Processing (process_full_dataset.py)

  # Process scraped HTML session
  python src/pipeline/processing/process_full_dataset.py data/scraped/20250905_000339/

  Output: data/raw/all_units_comprehensive_scored.json (scraped data with quality scores)

  2. Validation File Generation (Updated with Data Sources)

  # The validation file is now automatically regenerated by commissioner report
  # Uses current BEASCOUT_DEV_MODE setting to determine Key Three source

  3. Commissioner Report Generation

  python src/pipeline/analysis/generate_commissioner_report.py

  Data Source Configuration Examples

  üß™ Development Mode (Test Data)

  # Set environment for anonymized data
  export BEASCOUT_DEV_MODE=true

  # Check current configuration
  python src/pipeline/config/data_sources.py

  Output:
  Mode: Development mode (anonymized test data - safe for commits/sharing)
  Key Three JSON: /Users/iwolf/Repos/beascout/tests/reference/key_three/anonymized_key_three.json
  Key Three Excel: /Users/iwolf/Repos/beascout/tests/reference/key_three/anonymized_key_three.xlsx

  Result in Commissioner Report:
  - BeAScout Contact Columns: Real published data (jpganley@gmail.com)
  - Key Three Columns: Fake data (mary.reyes20@hotmail.com, (978) 555-2090)

  üè≠ Production Mode (Real Data)

  # Set environment for real data  
  export BEASCOUT_DEV_MODE=false

  # Check current configuration
  python src/pipeline/config/data_sources.py

  Output:
  Mode: Production mode (real personal data - DO NOT COMMIT)
  Key Three JSON: /Users/iwolf/Repos/beascout/data/input/HNE_key_three.json
  Key Three Excel: /Users/iwolf/Repos/beascout/data/input/HNE_key_three.xlsx

  Result in Commissioner Report:
  - BeAScout Contact Columns: Real published data (jpganley@gmail.com)
  - Key Three Columns: Real private data (actual Scout leader contacts)

  Complete Pipeline Examples

  Example 1: Development Workflow (Safe for Git)

  # 1. Set to development mode
  export BEASCOUT_DEV_MODE=true

  # 2. Process scraped HTML data (contains real published contact info)
  python src/pipeline/processing/process_full_dataset.py data/scraped/20250905_000339/

  # 3. Generate commissioner report (automatically uses anonymized Key Three)
  python src/pipeline/analysis/generate_commissioner_report.py

  Files Generated:
  - data/raw/all_units_comprehensive_scored.json - Scraped units with quality scores
  - data/output/enhanced_three_way_validation_results.json - Updated with anonymized Key Three
  - data/output/reports/BeAScout_Quality_Report_*.xlsx - Safe to share/commit

  Example 2: Production Workflow (Real Data - Careful!)

  # 1. Set to production mode  
  export BEASCOUT_DEV_MODE=false

  # 2. Process scraped HTML data
  python src/pipeline/processing/process_full_dataset.py data/scraped/20250905_000339/

  # 3. Generate commissioner report with real Key Three data
  python src/pipeline/analysis/generate_commissioner_report.py

  ‚ö†Ô∏è Warning: Contains real Scout leader personal information - do not commit to Git!

  Key Data Separation

  Scraped Data (Always Real)

  {
    "contact_email": "jpganley@gmail.com",
    "contact_person": "James Ganley",
    "phone_number": "(978) 502-2800"
  }
  Source: Public BeAScout.org website data - stays real in both modes

  Key Three Data (Mode-Dependent)

  Development Mode:
  {
    "key_three_members": [
      {
        "fullname": "Mary Reyes",
        "email": "mary.reyes20@hotmail.com",
        "phone": "(978) 555-2090"
      }
    ]
  }

  Production Mode:
  {
    "key_three_members": [
      {
        "fullname": "Jim Ganley",
        "email": "jpganley@gmail.com",
        "phone": "(978) 502-2800"
      }
    ]
  }

  Updated Architecture Benefits

  ‚úÖ Automatic Data Source Switching: Environment variable controls real vs anonymized Key Three data‚úÖ Pipeline Consistency:
  Same commands work in both modes‚úÖ Safety by Default: Development mode prevents accidental exposure of private data‚úÖ
  Preserved Public Data: BeAScout contact info stays real since it's already published‚úÖ Clean Separation: Private Key Three
  data vs public website data handled independently
